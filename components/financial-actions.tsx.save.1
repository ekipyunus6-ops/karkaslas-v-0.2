"use client"

import { useState } from "react"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import { Button } from "@/components/ui/button"
import { Alert, AlertDescription } from "@/components/ui/alert"
import { AlertCircle, Copy, Check } from "lucide-react"

export function FinancialActions() {
  const [copiedIban, setCopiedIban] = useState(false)
  const [copiedId, setCopiedId] = useState(false)
  const [withdrawAmount, setWithdrawAmount] = useState("")
  const [accountHolder, setAccountHolder] = useState("")
  const [iban, setIban] = useState("")

  const uniqueId = "ALT-4589"
  const bankIban = "TR33 0006 1005 1978 6457 8413 26"
  const companyIban = "TR98 0001 2009 4520 0016 3000 01"

  const copyToClipboard = (text: string, type: "iban" | "id") => {
    navigator.clipboard.writeText(text)
    if (type === "iban") {
      setCopiedIban(true)
      setTimeout(() => setCopiedIban(false), 2000)
    } else {
      setCopiedId(true)
      setTimeout(() => setCopiedId(false), 2000)
    }
  }

  return (
    <Card>
      <CardHeader>
        <CardTitle>Financial Actions</CardTitle>
      </CardHeader>
      <CardContent>
        <Tabs defaultValue="deposit" className="w-full">
          <TabsList className="grid w-full grid-cols-2">
            <TabsTrigger value="deposit">Deposit Money</TabsTrigger>
            <TabsTrigger value="withdraw">Withdraw Money</TabsTrigger>
          </TabsList>

          <TabsContent value="deposit" className="space-y-4 mt-4">
            <Alert className="border-warning bg-warning/10">
              <AlertCircle className="h-4 w-4 text-warning" />
              <AlertDescription className="text-sm">
                <strong>IMPORTANT:</strong> You must write your Unique ID:{" "}
                <span className="font-mono font-bold">{uniqueId}</span> in the bank transfer description.
                <Button
                  variant="ghost"
                  size="sm"
                  className="ml-2 h-6 px-2"
                  onClick={() => copyToClipboard(uniqueId, "id")}
                >
                  {copiedId ? <Check className="h-3 w-3" /> : <Copy className="h-3 w-3" />}
                </Button>
              </AlertDescription>
            </Alert>

            <div className="space-y-3">
              <div className="space-y-2">
                <Label className="text-sm font-medium">Bank Name</Label>
                <div className="p-3 bg-muted rounded-lg">
                  <p className="text-sm font-medium">Garanti BBVA</p>
                </div>
              </div>

              <div className="space-y-2">
                <Label className="text-sm font-medium">Account Holder</Label>
                <div className="p-3 bg-muted rounded-lg">
                  <p className="text-sm font-medium">Alternatif Lastik A.Ş.</p>
                </div>
              </div>

              <div className="space-y-2">
                <Label className="text-sm font-medium">IBAN</Label>
                <div className="flex gap-2">
                  <div className="flex-1 p-3 bg-muted rounded-lg">
                    <p className="text-sm font-mono">{bankIban}</p>
                  </div>
                  <Button variant="outline" size="icon" onClick={() => copyToClipboard(bankIban, "iban")}>
                    {copiedIban ? <Check className="h-4 w-4" /> : <Copy className="h-4 w-4" />}
                  </Button>
                </div>
              </div>

              <p className="text-xs text-muted-foreground">
                After making the transfer, your balance will be updated within 1-2 business hours.
              </p>
            </div>
          </TabsContent>

<TabsContent value="withdraw" className="space-y-4 mt-4">
  <div className="space-y-4">
    <div className="space-y-2">
      <Label htmlFor="amount">Çekim Tutarı (TL)</Label>
      <Input
        id="amount"
        type="number"
        placeholder="Çekmek istediğiniz tutarı girin"
        value={withdrawAmount}
        onChange={(e) => setWithdrawAmount(e.target.value)}
      />
      <p className="text-xs text-muted-foreground">Kullanılabilir bakiye: 13.400 TL</p>
    </div>

    <div className="space-y-2">
      <Label htmlFor="account-holder">Hesap Adı</Label>
      <Input
        id="account-holder"
        placeholder="Örn: Alternatif Lastik A.Ş. - Vadesiz TL"
        value={accountHolder}
        onChange={(e) => setAccountHolder(e.target.value)}
      />
    </div>

    <div className="space-y-2">
      <Label htmlFor="iban">IBAN</Label>
      <Input
        id="iban"
        placeholder="TR00 0000 0000 0000 0000 0000 00"
        value={iban}
        onChange={(e) => setIban(e.target.value)}
      />
      <p className="text-xs text-muted-foreground">
        Para çekme işlemi bu IBAN bilgilerine göre EFT olarak gerçekleştirilecektir.
      </p>
    </div>

    <Button className="w-full" size="lg">
      Para Çekme Talebi Oluştur
    </Button>

    <p className="text-xs text-muted-foreground text-center">
      Para çekme talepleri 1-3 iş günü içerisinde işlenir.
    </p>
  </div> </TabsContent>
        </Tabs>
      </CardContent>
    </Card>
  )
}
